<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.8. Multi-instance Functionality &mdash; CIME with documentation about the Replay cime5.6.replay documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5d88beb4"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/pop_ver.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.9. More on Driver Namelists" href="namelist-overview.html" />
    <link rel="prev" title="3.7. Mass and Heat Budgets" href="budgets.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CIME with documentation about the Replay
          </a>
              <div class="version">
                cime5.6.replay
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../what_cime/index.html">What is CIME?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html">Case Control System Part 1: Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html#case-control-system-part-2-configuration-porting-testing-and-use-cases">Case Control System Part 2: Configuration, Porting, Testing and Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_models/index.html">Data Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Driver/Coupler</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="design.html">2. Design</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="implementation.html">3. Implementation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="time-management.html">3.1. Time Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="grids.html">3.2. Grids</a></li>
<li class="toctree-l3"><a class="reference internal" href="initialization-and-restart.html">3.3. Initialization and Restart</a></li>
<li class="toctree-l3"><a class="reference internal" href="driver_threading_control.html">3.4. Driver Threading Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="bit-for-bit-flag.html">3.5. Bit-for-bit flag</a></li>
<li class="toctree-l3"><a class="reference internal" href="history-and-restarts.html">3.6. History and Restarts</a></li>
<li class="toctree-l3"><a class="reference internal" href="budgets.html">3.7. Mass and Heat Budgets</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.8. Multi-instance Functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="namelist-overview.html">3.9. More on Driver Namelists</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../build_cpl/index.html">Building a Coupled Model with CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_tools/index.html">Miscellaneous Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_user/index.html">User Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xml_files/index.html">XML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CIME_api/modules.html">CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_api/modules.html">Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME with documentation about the Replay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Driver/Coupler</a></li>
          <li class="breadcrumb-item"><a href="implementation.html"><span class="section-number">3. </span>Implementation</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.8. </span>Multi-instance Functionality</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/driver_cpl/multi-instance.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="multi-instance-functionality">
<h1><span class="section-number">3.8. </span>Multi-instance Functionality<a class="headerlink" href="#multi-instance-functionality" title="Link to this heading">ÔÉÅ</a></h1>
<p>The multi-instance feature allows multiple instances of a given component to run in a single CESM run.
This might be useful for data assimilation or to average results from multiple instances to force another model.</p>
<p>The multi-instance implementation is fairly basic at this point.
It does not do any averaging or other statistics between multiple instances, and it requires that all prognostic components must run the same multiple instances to ensure correct coupling.
The multi-instance feature is set via the <code class="docutils literal notranslate"><span class="pre">$CASEROOT/env_mach_pes.xml</span></code> variables that have an <code class="docutils literal notranslate"><span class="pre">NINST_</span></code> prefix.
The tasks and threads that are specified in multi-instance cases are distributed evenly between the multiple instances.
In other words, if 16 tasks are requested for each of two atmosphere instances, each instance will run on 8 of those tasks.
The <code class="docutils literal notranslate"><span class="pre">NINST_*_LAYOUT</span></code> value should always be set to <em>concurrent</em> at this time.
Sequential running on multiple instances is still not a robust feature.
Multiple instances is a build time setting in env_mach_pes.xml.
Multiple instance capabilities are expected to be extended in the future.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="budgets.html" class="btn btn-neutral float-left" title="3.7. Mass and Heat Budgets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="namelist-overview.html" class="btn btn-neutral float-right" title="3.9. More on Driver Namelists" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, U.S. National Science Foundation and U.S. Department of Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>