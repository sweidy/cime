<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1. Introduction &mdash; CIME with documentation about the Replay cime5.6.replay documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5d88beb4"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/pop_ver.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Input Namelists" href="input-namelists.html" />
    <link rel="prev" title="Data Models" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CIME with documentation about the Replay
          </a>
              <div class="version">
                cime5.6.replay
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../what_cime/index.html">What is CIME?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html">Case Control System Part 1: Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html#case-control-system-part-2-configuration-porting-testing-and-use-cases">Case Control System Part 2: Configuration, Porting, Testing and Use Cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Data Models</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">1.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#design">1.2. Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-sections">1.3. Next Sections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-namelists.html">2. Input Namelists</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-streams.html">3. Input Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="design-details.html">4. Design Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-model-science.html">5. Data Model Science</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-atm.html">6. Data Atmosphere (DATM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-lnd.html">7. Data Land (DLND)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-seaice.html">8. Data Ice (DICE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-ocean.html">9. Data Ocean (DOCN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-river.html">10. Data River (DROF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-wave.html">11. Data Wave (DWAV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../driver_cpl/index.html">Driver/Coupler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_cpl/index.html">Building a Coupled Model with CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_tools/index.html">Miscellaneous Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_user/index.html">User Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xml_files/index.html">XML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CIME_api/modules.html">CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_api/modules.html">Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME with documentation about the Replay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Data Models</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1. </span>Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/data_models/introduction.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<span id="data-model-introduction"></span><h1><span class="section-number">1. </span>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<section id="overview">
<h2><span class="section-number">1.1. </span>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The CIME data models perform the basic function of reading external data files, modifying those data, and then sending the data to the driver via the CIME coupling interfaces.
The fields sent to the driver are the same as those that would be sent by an active component.
This takes advantage of the fact that the driver and other models have no fundamental knowledge of whether another component is fully active or just a data model.
So, for example, the data atmosphere model (datm) sends the same fields as the prognostic Community Atmosphere Model (CAM).
However, rather than determining these fields prognostically, most data models simply read prescribed data.</p>
<p>The data models typically read gridded data from observations or reanalysis products.
Out of the box, they often provide a few possible data sources and/or time periods that you can choose from when setting up a case.
However, data models can also be configured to read output from a previous coupled run.
For example, you can perform a fully-coupled run in which you ask for particular extra output streams; you can then use these saved “coupler history” files as inputs to datm to run a later land-only spinup.</p>
<p>In some cases, data models have prognostic functionality, that is, they also receive and use data sent by the driver.
However, in most cases, the data models are not running prognostically and have no need to receive any data from the driver.</p>
<p>The CIME data models have parallel capability and share significant amounts of source code.
Methods for reading and interpolating data have been established and can easily be reused:
The data model calls strdata (“stream data”) methods which then call stream methods.
The stream methods are responsible for managing lists of input data files and their time axes.
The information is then passed up to the strdata methods where the data is read and interpolated in space and time.
The interpolated data is passed up to the data model where final fields are derived, packed, and returned to the driver.</p>
</section>
<section id="design">
<h2><span class="section-number">1.2. </span>Design<a class="headerlink" href="#design" title="Link to this heading"></a></h2>
<p>Data models function by reading in different streams of input data and interpolating those data both spatially and temporally to the appropriate final model grid and model time.
The strdata implementation does the following:</p>
<ol class="arabic simple">
<li><p>determines nearest lower and upper bound data from the input dataset</p></li>
<li><p>if that is new data then read lower and upper bound data</p></li>
<li><p>fill lower and upper bound data</p></li>
<li><p>spatially map lower and upper bound data to model grid</p></li>
<li><p>time interpolate lower and upper bound data to model time</p></li>
<li><p>return fields to data model</p></li>
</ol>
<p>The two timestamps of input data that bracket the present model time are read first.
These are called the lower and upper bounds of data and will change as the model advances.
Those two sets of inputdata are first filled based on the user setting of the namelist variables <code class="docutils literal notranslate"><span class="pre">str_fillalgo</span></code> and <code class="docutils literal notranslate"><span class="pre">str_fillmask</span></code>.
That operation occurs on the input data grid.
The lower and upper bound data are then spatially mapped to the model grid based upon the user setting of the namelist variables <code class="docutils literal notranslate"><span class="pre">str_mapalgo</span></code> and <code class="docutils literal notranslate"><span class="pre">str_mapmask</span></code>.
Spatial interpolation only occurs if the input data grid and model grid are not identical, and this is determined in the strdata module automatically.
Time interpolation is the final step and is done using a time interpolation method specified by the user in namelist (via the <code class="docutils literal notranslate"><span class="pre">shr_strdata_nml</span></code> namelist variable <code class="docutils literal notranslate"><span class="pre">tintalgo</span></code>).
A final set of fields is then available to the data model on the model grid and for the current model time.
(See the <a class="reference internal" href="input-streams.html#shr-strdata-nml"><span class="std std-ref">stream data namelist section</span></a> for details on these and other namelist variables.)</p>
<p><strong>Each data model</strong></p>
<ul class="simple">
<li><p>communicates with the driver with fields on only the data model grid</p></li>
<li><p>can be associated with multiple <a class="reference internal" href="input-streams.html#input-streams"><span class="std std-ref">streams</span></a></p></li>
<li><p>has an xml variable in <code class="docutils literal notranslate"><span class="pre">env_run.xml</span></code> that specifies its mode.
These are: <code class="docutils literal notranslate"><span class="pre">DATM_MODE</span></code>, <code class="docutils literal notranslate"><span class="pre">DICE_MODE</span></code>, <code class="docutils literal notranslate"><span class="pre">DLND_MODE</span></code>, <code class="docutils literal notranslate"><span class="pre">DOCN_MODE</span></code>, <code class="docutils literal notranslate"><span class="pre">DROF_MODE</span></code>, <code class="docutils literal notranslate"><span class="pre">DWAV_MODE</span></code>.
Each data model mode specifies the streams that are associated with that data model.</p></li>
<li><p>has two <a class="reference internal" href="input-namelists.html#input-namelists"><span class="std std-ref">namelist</span></a> groups in its input namelist file: a <strong>stream-dependent</strong> and a <strong>stream-independent</strong> namelist group.</p></li>
<li><p>is associated with only one stream-independent namelist variable <code class="docutils literal notranslate"><span class="pre">datamode</span></code> (specified in the <code class="docutils literal notranslate"><span class="pre">shr_strdata_nml</span></code> namelist group) that determines if additional operations need to be performed on the input streams before returning to the driver.</p></li>
</ul>
<p><strong>Each</strong> <code class="docutils literal notranslate"><span class="pre">DXXX_MODE</span></code> <strong>xml variable variable specfies 2 things:</strong></p>
<ul>
<li><p>the list of streams that are associated with the data model.</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">datamode</span></code> namelist variable that is associated with each data model and that determines if additional operations need to be performed on the input streams before returning to the driver.</p>
<p>At a minimum, all data models support <code class="docutils literal notranslate"><span class="pre">datamode</span></code> values of <code class="docutils literal notranslate"><span class="pre">NULL</span></code> and <code class="docutils literal notranslate"><span class="pre">COPYALL</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NULL</span></code> - turns off the data model as a provider of data to the coupler.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COPYALL</span></code> - copies all fields directly from the input data streams. Any required fields not found on an input stream will be set to zero.</p></li>
</ul>
</li>
</ul>
<p><strong>Each data model stream</strong></p>
<ul class="simple">
<li><p>can be associated with multiple stream input files (specified in the <code class="docutils literal notranslate"><span class="pre">shr_strdata_nml</span></code> namelist group).</p></li>
</ul>
<p><strong>Each stream input file</strong></p>
<ul class="simple">
<li><p>can contain data on a unique grid and unique temporal time stamps.</p></li>
<li><p>is interpolated to a single model grid and the present model time.</p></li>
</ul>
<p>More details of the data model design are covered in <a class="reference internal" href="design-details.html#design-details"><span class="std std-ref">design details</span></a>.</p>
</section>
<section id="next-sections">
<h2><span class="section-number">1.3. </span>Next Sections<a class="headerlink" href="#next-sections" title="Link to this heading"></a></h2>
<p>In the next sections, more details will be presented, including a full description of the science modes and namelist settings for the data atmosphere, data land, data runoff, data ocean, and data ice models; namelist settings for the strdata namelist input; a description of the format and options for the stream description input files; and a list of internal field names for each of the data components.
The internal data model field names are important because they are used to setup the stream description files and to map the input data fields to the internal data model field names.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Data Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="input-namelists.html" class="btn btn-neutral float-right" title="2. Input Namelists" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, U.S. National Science Foundation and U.S. Department of Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>