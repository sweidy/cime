<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6. Data Atmosphere (DATM) &mdash; CIME with documentation about the Replay cime5.6.replay documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5d88beb4"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/pop_ver.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Data Land (DLND)" href="data-lnd.html" />
    <link rel="prev" title="5. Data Model Science" href="data-model-science.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CIME with documentation about the Replay
          </a>
              <div class="version">
                cime5.6.replay
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../what_cime/index.html">What is CIME?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html">Case Control System Part 1: Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html#case-control-system-part-2-configuration-porting-testing-and-use-cases">Case Control System Part 2: Configuration, Porting, Testing and Use Cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Data Models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-namelists.html">2. Input Namelists</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-streams.html">3. Input Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="design-details.html">4. Design Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-model-science.html">5. Data Model Science</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6. Data Atmosphere (DATM)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xml-variables">6.1. xml variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datamode-values">6.2. datamode values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datm-mode-datamode-and-streams">6.3. DATM_MODE, datamode and streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="#namelists">6.4. Namelists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#streams-independent-of-datm-mode-value">6.5. Streams independent of DATM_MODE value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datm-field-names">6.6. DATM Field names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data-lnd.html">7. Data Land (DLND)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-seaice.html">8. Data Ice (DICE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-ocean.html">9. Data Ocean (DOCN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-river.html">10. Data River (DROF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-wave.html">11. Data Wave (DWAV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../driver_cpl/index.html">Driver/Coupler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_cpl/index.html">Building a Coupled Model with CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_tools/index.html">Miscellaneous Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_user/index.html">User Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xml_files/index.html">XML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CIME_api/modules.html">CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_api/modules.html">Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME with documentation about the Replay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Data Models</a></li>
      <li class="breadcrumb-item active"><span class="section-number">6. </span>Data Atmosphere (DATM)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/data_models/data-atm.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-atmosphere-datm">
<span id="data-atm"></span><h1><span class="section-number">6. </span>Data Atmosphere (DATM)<a class="headerlink" href="#data-atmosphere-datm" title="Link to this heading"></a></h1>
<p>DATM is normally used to provide observational forcing data (or forcing data produced by a previous run using active components) to drive prognostic components.
In the case of CESM, these would be: CLM (I compset), POP2 (C compset), and POP2/CICE (G compset).
As a result, DATM variable settings are specific to the compset that will be targeted.
As examples, CORE2_NYF (CORE2 normal year forcing) is the DATM mode used in C and G compsets.
CLM_QIAN, CLMCRUNCEP, CLMGSWP3 and CLM1PT are DATM modes using observational data for forcing CLM in I compsets.</p>
<section id="xml-variables">
<span id="datm-xml-vars"></span><h2><span class="section-number">6.1. </span>xml variables<a class="headerlink" href="#xml-variables" title="Link to this heading"></a></h2>
<p>The following are <code class="docutils literal notranslate"><span class="pre">$CASEROOT</span></code> xml variables that CIME supports for DATM.
These variables are defined in <code class="docutils literal notranslate"><span class="pre">$CIMEROOT/src/components/data_comps/datm/cime_config/config_component.xml</span></code>.
These variables will appear in <code class="docutils literal notranslate"><span class="pre">env_run.xml</span></code> and the resulting values are compset dependent.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These xml variables are used by the the datm’s <strong>cime_config/buildnml</strong> script in conjunction with datm’s <strong>cime_config/namelist_definition_datm.xml</strong> file to generate the namelist file <code class="docutils literal notranslate"><span class="pre">datm_in</span></code>.</p>
</div>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">“DATM xml variables”</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>xml variable</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DATM_MODE</p></td>
<td><p>Mode for atmospheric component</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Valid values are: CORE2_NYF,CORE2_IAF,CLM_QIAN,CLM_QIAN_WISO,CLM1PT,CLMCRUNCEP,</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>CLMCRUNCEP_V5,CLMGSWP3,WW3,CPLHIST,CORE_IAF_JRA</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DATM_PRESAERO</p></td>
<td><p>Optional prescribed aerosol forcing</p></td>
</tr>
<tr class="row-odd"><td><p>DATM_TOPO</p></td>
<td><p>Optional Surface topography</p></td>
</tr>
<tr class="row-even"><td><p>DATM_CO2_TSERIES</p></td>
<td><p>Optional CO2 time series type</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DATM_CPLHIST_DOMAIN_FILE</p></td>
<td><p>Coupler history forcing data mode - full pathname of model domain file</p></td>
</tr>
<tr class="row-odd"><td><p>DATM_CPLHIST_CASE</p></td>
<td><p>Coupler history forcing data mode - case name</p></td>
</tr>
<tr class="row-even"><td><p>DATM_CPLHIST_DIR</p></td>
<td><p>Coupler history forcing data mode - directory containing coupler history data</p></td>
</tr>
<tr class="row-odd"><td><p>DATM_CPLHIST_YR_ALIGN</p></td>
<td><p>Coupler history forcing data mode - simulation year corresponding to DATM_CPLHIST_YR_START</p></td>
</tr>
<tr class="row-even"><td><p>DATM_CPLHIST_YR_START</p></td>
<td><p>Coupler history forcing data mode - starting year to loop data over</p></td>
</tr>
<tr class="row-odd"><td><p>DATM_CPLHIST_YR_END</p></td>
<td><p>Coupler history forcing data mode - ending year to loop data over</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DATM_CLMNCEP_YR_ALIGN</p></td>
<td><p>I compsets only - simulation year corresponding to data starting year</p></td>
</tr>
<tr class="row-even"><td><p>DATM_CLMNCEP_YR_START</p></td>
<td><p>I compsets only - data model starting year to loop data over</p></td>
</tr>
<tr class="row-odd"><td><p>DATM_CLMNCEP_YR_END</p></td>
<td><p>I compsets only - data model ending year to loop data over</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">DATM_MODE</span></code> is set to <code class="docutils literal notranslate"><span class="pre">CPLHIST</span></code>, it is normally assumed that the model domain will be identical to <strong>all</strong> of the stream domains. To ensure this, the xml variables <code class="docutils literal notranslate"><span class="pre">ATM_DOMAIN_PATH</span></code> and <code class="docutils literal notranslate"><span class="pre">ATM_DOMAIN_FILE</span></code> are ignored and a valid setting <strong>must be given</strong> for <code class="docutils literal notranslate"><span class="pre">DATM_CPLHIST_DOMAIN_FILE</span></code>. If <code class="docutils literal notranslate"><span class="pre">DATM_CPLHIST_DOMAIN_FILE</span></code> is set to <code class="docutils literal notranslate"><span class="pre">null</span></code>, then the datm component domain information is read in from the first coupler history file in the target stream and it is assumed that the first coupler stream file that is pointed to contains the domain information for that stream. This is the default that should be used for this mode. Alternatively, <code class="docutils literal notranslate"><span class="pre">DATM_CPLHIST_DOMAIN_FILE</span></code> can be set to <code class="docutils literal notranslate"><span class="pre">$ATM_DOMAIN_PATH/$ATM_DOMAIN_FILE</span></code> in a non-default configuration.</p>
</div>
</section>
<section id="datamode-values">
<span id="datm-datamodes"></span><h2><span class="section-number">6.2. </span>datamode values<a class="headerlink" href="#datamode-values" title="Link to this heading"></a></h2>
<p>The xml variable <code class="docutils literal notranslate"><span class="pre">DATM_MODE</span></code> (described in <a class="reference internal" href="#datm-mode"><span class="std std-ref">DATM_MODE, datamode and streams</span></a>) sets the streams that are associated with DATM and also sets the namelist variable <code class="docutils literal notranslate"><span class="pre">datamode</span></code>.
<code class="docutils literal notranslate"><span class="pre">datamode</span></code> (which appears in <code class="docutils literal notranslate"><span class="pre">shr_strdata_nml</span></code>) specifies what additional operations need to be done by DATM on the streams before returning to the driver.</p>
<p>Each data model has its own set of supported <code class="docutils literal notranslate"><span class="pre">datamode</span></code> values. The following are the supported DATM <code class="docutils literal notranslate"><span class="pre">datamode</span></code> values, as defined in the file <code class="docutils literal notranslate"><span class="pre">namelist_definition_datm.xml</span></code>.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">“Valid values for datamode namelist variable”</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>datamode variable</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NULL</p></td>
<td><p>This mode turns off the data model as a provider of data to the coupler. The <code class="docutils literal notranslate"><span class="pre">atm_present</span></code> flag will be set to <code class="docutils literal notranslate"><span class="pre">false</span></code> and the coupler assumes no exchange of data to or from the data model.</p></td>
</tr>
<tr class="row-odd"><td><p>COPYALL</p></td>
<td><p>The default science mode of the data model is the COPYALL mode. This mode will examine the fields found in all input data streams; if any input field names match the field names used internally, they are copied into the export array and passed directly to the coupler without any special user code.  Any required fields not found on an input stream will be set to zero except for aerosol deposition fields which will be set to a special value.</p></td>
</tr>
<tr class="row-even"><td><p>CLMNCEP</p></td>
<td><p>In conjunction with NCEP climatological atmosphere data, provides the atmosphere forcing favored by the Land Model Working Group when coupling an active land model with observed atmospheric forcing. This  mode replicates code previously found in CLM (circa 2005), before the LMWG started using the CIME coupling infrastructure and data models to do active-land-only simulations.</p></td>
</tr>
<tr class="row-odd"><td><p>CORE2_NYF</p></td>
<td><p>Coordinated Ocean-ice Reference Experiments (CORE) Version 2 Normal Year Forcing.</p></td>
</tr>
<tr class="row-even"><td><p>CORE2_IAF</p></td>
<td><p>In conjunction with CORE Version 2 atmospheric forcing data, provides the atmosphere forcing favored by the Ocean Model Working Group when coupling an active ocean model with observed atmospheric forcing. This mode and associated data sets implement the CORE-IAF Version 2 forcing data, as developed by Large and Yeager (2008) at NCAR.  Note that CORE2_NYF and CORE2_IAF work exactly the same way.</p></td>
</tr>
<tr class="row-odd"><td><p>CORE_IAF_JRA</p></td>
<td><p>In conjunction with JRA-55 Project, provides the atmosphere forcing when coupling an active ocean model with observed atmospheric forcing. This mode and associated data sets implement the JRA-55 v1.3 forcing data.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="datm-mode-datamode-and-streams">
<span id="datm-mode"></span><h2><span class="section-number">6.3. </span>DATM_MODE, datamode and streams<a class="headerlink" href="#datm-mode-datamode-and-streams" title="Link to this heading"></a></h2>
<p>The following table describes the valid values of <code class="docutils literal notranslate"><span class="pre">DATM_MODE</span></code> (defined in the <code class="docutils literal notranslate"><span class="pre">config_component.xml</span></code> file for DATM), and how they relate to the associated input streams and the <code class="docutils literal notranslate"><span class="pre">datamode</span></code> namelist variable.
CIME will generate a value of <code class="docutils literal notranslate"><span class="pre">DATM_MODE</span></code> based on the compset.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">“Relationship between DATM_MODE, datamode and streams”</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>DATM_MODE</p></th>
<th class="head"><p>description-streams-datamode</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NULL</p></td>
<td><p>null mode</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>streams: none</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>datamode: NULL</p></td>
</tr>
<tr class="row-odd"><td><p>CORE2_NYF</p></td>
<td><p>CORE2 normal year forcing (C ang G compsets)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>streams: CORE2_NYF.GISS,CORE2_NYF.GXGXS,CORE2_NYF.NCEP</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>datamode: CORE2_NYF</p></td>
</tr>
<tr class="row-even"><td><p>CORE2_IAF</p></td>
<td><p>CORE2 interannual year forcing (C ang G compsets)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>streams: CORE2_IAF.GCGCS.PREC,CORE2_IAF.GISS.LWDN,CORE2_IAF.GISS.SWDN,CORE2_IAF.GISS.SWUP,</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>CORE2_IAF.NCEP.DN10,CORE2_IAF.NCEP.Q_10,CORE2_IAF.NCEP.SLP_,CORE2_IAF.NCEP.T_10,CORE2_IAF.NCEP.U_10,</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>CORE2_IAF.NCEP.V_10,CORE2_IAF.CORE2.ArcFactor</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>datamode: CORE2_IAF</p></td>
</tr>
<tr class="row-odd"><td><p>CORE_IAF_JRA</p></td>
<td><p>JRA-55 intra-annual year forcing(C ang G compsets)”</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>streams: CORE_IAF_JRA.GCGCS.PREC,CORE_IAF_JRA.GISS.LWDN,CORE_IAF_JRA.GISS.SWDN,</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>CORE_IAF_JRA.NCEP.Q_10,CORE_IAF_JRA.NCEP.SLP_,CORE_IAF_JRA.NCEP.T_10,CORE_IAF_JRA.NCEP.U_10,</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>CORE_IAF_JRA.NCEP.V_10,CORE_IAF_JRA.CORE2.ArcFactor</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>datamode: CORE_IAF_JRA</p></td>
</tr>
<tr class="row-even"><td><p>CLM_QIAN_WISO</p></td>
<td><p>QIAN atm input data with water isotopes (I compsets)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>streams: CLM_QIAN_WISO.Solar,CLM_QIAN_WISO.Precip,CLM_QIAN_WISO.TPQW</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>datamode: CLMNCEP</p></td>
</tr>
<tr class="row-odd"><td><p>CLM_QIAN</p></td>
<td><p>QIAN atm input data (I compsets)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>streams: CLM_QIAN.Solar,CLM_QIAN.Precip,CLM_QIAN.TPQW</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>datamode: CLMNCEP</p></td>
</tr>
<tr class="row-even"><td><p>CLMCRUNCEP</p></td>
<td><p>CRUNCEP atm input data (I compsets)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>streams: CLMCRUNCEP.Solar,CLMCRUNCEP.Precip,CLMCRUNCEP.TPQW</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>datamode: CLMNCEP</p></td>
</tr>
<tr class="row-odd"><td><p>CLMCRUNCEP_V5</p></td>
<td><p>CRUNCEP atm input data (I compsets)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>streams: CLMCRUNCEP_V5.Solar,CLMCRUNCEP_V5.Precip,CLMCRUNCEP_V5.TPQW</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>datamode: CLMNCEP</p></td>
</tr>
<tr class="row-even"><td><p>CLMGSWP3</p></td>
<td><p>GSWP3 atm input data (I compsets)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>streams: CLMGSWP3.Solar,CLMGSWP3.Precip,CLMGSWP3.TPQW</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>datamode: CLMNCEP</p></td>
</tr>
<tr class="row-odd"><td><p>CLM1PT</p></td>
<td><p>single point tower site atm input data</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>streams: CLM1PT.$ATM_GRID</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>datamode: CLMNCEP</p></td>
</tr>
<tr class="row-even"><td><p>CPLHIST</p></td>
<td><p>user generated forcing data from using coupler history files used to spinup relevant prognostic components (for CESM this is CLM, POP and CISM)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>streams: CPLHISTForcing.Solar,CPLHISTForcing.nonSolarFlux,</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>CPLHISTForcing.State3hr,CPLHISTForcing.State1hr</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>datamode: CPLHIST</p></td>
</tr>
<tr class="row-even"><td><p>WW3</p></td>
<td><p>WW3 wave watch data from a short period of hi WW3 wave watch data from a short period of hi temporal frequency COREv2 data</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>streams: WW3</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>datamode: COPYALL</p></td>
</tr>
</tbody>
</table>
</section>
<section id="namelists">
<h2><span class="section-number">6.4. </span>Namelists<a class="headerlink" href="#namelists" title="Link to this heading"></a></h2>
<p>The DATM namelist file is <code class="docutils literal notranslate"><span class="pre">datm_in</span></code> (or <code class="docutils literal notranslate"><span class="pre">datm_in_NNN</span></code> for multiple instances). DATM namelists can be separated into two groups: <em>stream-independent</em> namelist variables that are specific to the DATM model and <em>stream-specific</em> namelist variables whose names are common to all the data models.</p>
<p>Stream dependent input is in the namelist group <code class="docutils literal notranslate"><span class="pre">&quot;shr_strdata_nml</span></code> which is discussed in <a class="reference internal" href="input-streams.html#input-streams"><span class="std std-ref">input streams</span></a> and is the same for all data models.</p>
<p id="datm-stream-independent-namelists">The stream-independent group is <code class="docutils literal notranslate"><span class="pre">datm_nml</span></code> and the DATM stream-independent namelist variables are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>datm_nml vars</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>decomp</p></td>
<td><p>decomposition strategy (1d, root)</p>
<p>1d =&gt; vector decomposition, root =&gt; run on master task</p>
</td>
</tr>
<tr class="row-odd"><td><p>restfilm</p></td>
<td><p>master restart filename</p></td>
</tr>
<tr class="row-even"><td><p>restfils</p></td>
<td><p>stream restart filename</p></td>
</tr>
<tr class="row-odd"><td><p>force_prognostic_true</p></td>
<td><p>TRUE =&gt; force prognostic behavior</p></td>
</tr>
<tr class="row-even"><td><p>bias_correct</p></td>
<td><p>if set, include bias correction streams in namelist</p></td>
</tr>
<tr class="row-odd"><td><p>anomaly_forcing</p></td>
<td><p>if set, includ anomaly forcing streams in namelist</p></td>
</tr>
<tr class="row-even"><td><p>factorfn</p></td>
<td><p>filename containing correction factors for use in CORE2 modes (CORE2_IAF and CORE2_NYF)</p></td>
</tr>
<tr class="row-odd"><td><p>presaero</p></td>
<td><p>if true, prescribed aerosols are sent from datm</p></td>
</tr>
<tr class="row-even"><td><p>iradsw</p></td>
<td><p>frequency to update radiation in number of time steps (of hours if negative)</p></td>
</tr>
<tr class="row-odd"><td><p>wiso_datm</p></td>
<td><p>if true, turn on water isotopes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="streams-independent-of-datm-mode-value">
<span id="datm-mode-independent-streams"></span><h2><span class="section-number">6.5. </span>Streams independent of DATM_MODE value<a class="headerlink" href="#streams-independent-of-datm-mode-value" title="Link to this heading"></a></h2>
<p>In general, each <code class="docutils literal notranslate"><span class="pre">DATM_MODE</span></code> xml variable is identified with a unique set of streams.
However, there are several streams in DATM that can accompany any <code class="docutils literal notranslate"><span class="pre">DATM_MODE</span></code> setting.
Currently, these are streams associated with prescribed aerosols, co2 time series, topography, anomoly forcing and bias correction.
These mode-independent streams are activated different, depending on the stream.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">prescribed</span> <span class="pre">aerosol</span> <span class="pre">stream:</span></code>
To add this stream, set <code class="docutils literal notranslate"><span class="pre">$DATM_PRESAERO</span></code> to a supported value other than <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">co2</span> <span class="pre">time</span> <span class="pre">series</span> <span class="pre">stream</span></code>:
To add this stream, set <code class="docutils literal notranslate"><span class="pre">$DATM_CO2_TSERIES</span></code> to a supported value other than <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">topo</span> <span class="pre">stream</span></code>:
To add this stream, set <code class="docutils literal notranslate"><span class="pre">$DATM_TOPO</span></code> to a supported value other than <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">anomaly</span> <span class="pre">forcing</span> <span class="pre">stream:</span></code>
To add this stream, you need to add any of the following keywword/value pair to the end of <code class="docutils literal notranslate"><span class="pre">user_nl_datm</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Precip</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Temperature</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Pressure</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Humidity</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Uwind</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Vwind</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Shortwave</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">Anomaly</span><span class="o">.</span><span class="n">Forcing</span><span class="o">.</span><span class="n">Longwave</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">bias_correct</span> <span class="pre">stream:</span></code>
To add this stream, you need to add any of the following keywword/value pair to the end of <code class="docutils literal notranslate"><span class="pre">user_nl_datm</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span><span class="o">.</span><span class="n">QIAN</span><span class="o">.</span><span class="n">CMAP</span><span class="o">.</span><span class="n">Precip</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">BC</span><span class="o">.</span><span class="n">QIAN</span><span class="o">.</span><span class="n">GPCP</span><span class="o">.</span><span class="n">Precip</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">BC</span><span class="o">.</span><span class="n">CRUNCEP</span><span class="o">.</span><span class="n">CMAP</span><span class="o">.</span><span class="n">Precip</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
<span class="n">BC</span><span class="o">.</span><span class="n">CRUNCEP</span><span class="o">.</span><span class="n">GPCP</span><span class="o">.</span><span class="n">Precip</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="datm-field-names">
<span id="datm-fields"></span><h2><span class="section-number">6.6. </span>DATM Field names<a class="headerlink" href="#datm-field-names" title="Link to this heading"></a></h2>
<p>DATM defines a set of pre-defined internal field names as well as mappings for how those field names map to the fields sent to the coupler.
In general, the stream input file should translate the stream input variable names into the <code class="docutils literal notranslate"><span class="pre">datm_fld</span></code> names for use within the data atmosphere model.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">“DATM internal field names”</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>datm_fld (avifld)</p></th>
<th class="head"><p>driver_fld (avofld)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>z</p></td>
<td><p>Sa_z</p></td>
</tr>
<tr class="row-odd"><td><p>topo</p></td>
<td><p>Sa_topo</p></td>
</tr>
<tr class="row-even"><td><p>u</p></td>
<td><p>Sa_u</p></td>
</tr>
<tr class="row-odd"><td><p>v</p></td>
<td><p>Sa_v</p></td>
</tr>
<tr class="row-even"><td><p>tbot</p></td>
<td><p>Sa_tbot</p></td>
</tr>
<tr class="row-odd"><td><p>ptem</p></td>
<td><p>Sa_ptem</p></td>
</tr>
<tr class="row-even"><td><p>shum</p></td>
<td><p>Sa_shum</p></td>
</tr>
<tr class="row-odd"><td><p>dens</p></td>
<td><p>Sa_dens</p></td>
</tr>
<tr class="row-even"><td><p>pbot</p></td>
<td><p>Sa_pbot</p></td>
</tr>
<tr class="row-odd"><td><p>pslv</p></td>
<td><p>Sa_pslv</p></td>
</tr>
<tr class="row-even"><td><p>lwdn</p></td>
<td><p>Faxa_lwdn</p></td>
</tr>
<tr class="row-odd"><td><p>rainc</p></td>
<td><p>Faxa_rainc</p></td>
</tr>
<tr class="row-even"><td><p>rainl</p></td>
<td><p>Faxa_rainl</p></td>
</tr>
<tr class="row-odd"><td><p>snowc</p></td>
<td><p>Faxa_snowc</p></td>
</tr>
<tr class="row-even"><td><p>snowl</p></td>
<td><p>Faxa_snowl</p></td>
</tr>
<tr class="row-odd"><td><p>swndr</p></td>
<td><p>Faxa_swndr</p></td>
</tr>
<tr class="row-even"><td><p>swvdr</p></td>
<td><p>Faxa_swvdr</p></td>
</tr>
<tr class="row-odd"><td><p>swndf</p></td>
<td><p>Faxa_swndf</p></td>
</tr>
<tr class="row-even"><td><p>swvdf</p></td>
<td><p>Faxa_swvdf</p></td>
</tr>
<tr class="row-odd"><td><p>swnet</p></td>
<td><p>Faxa_swnet</p></td>
</tr>
<tr class="row-even"><td><p>co2prog</p></td>
<td><p>Sa_co2prog</p></td>
</tr>
<tr class="row-odd"><td><p>co2diag</p></td>
<td><p>Sa_co2diag</p></td>
</tr>
<tr class="row-even"><td><p>bcphidry</p></td>
<td><p>Faxa_bcphidry</p></td>
</tr>
<tr class="row-odd"><td><p>bcphodry</p></td>
<td><p>Faxa_bcphodry</p></td>
</tr>
<tr class="row-even"><td><p>bcphiwet</p></td>
<td><p>Faxa_bcphiwet</p></td>
</tr>
<tr class="row-odd"><td><p>ocphidry</p></td>
<td><p>Faxa_ocphidry</p></td>
</tr>
<tr class="row-even"><td><p>ocphodry</p></td>
<td><p>Faxa_ocphodry</p></td>
</tr>
<tr class="row-odd"><td><p>ocphiwet</p></td>
<td><p>Faxa_ocphiwet</p></td>
</tr>
<tr class="row-even"><td><p>dstwet1</p></td>
<td><p>Faxa_dstwet1</p></td>
</tr>
<tr class="row-odd"><td><p>dstwet2</p></td>
<td><p>Faxa_dstwet2</p></td>
</tr>
<tr class="row-even"><td><p>dstwet3</p></td>
<td><p>Faxa_dstwet3</p></td>
</tr>
<tr class="row-odd"><td><p>dstwet4</p></td>
<td><p>Faxa_dstwet4</p></td>
</tr>
<tr class="row-even"><td><p>dstdry1</p></td>
<td><p>Faxa_dstdry1</p></td>
</tr>
<tr class="row-odd"><td><p>dstdry2</p></td>
<td><p>Faxa_dstdry2</p></td>
</tr>
<tr class="row-even"><td><p>dstdry3</p></td>
<td><p>Faxa_dstdry3</p></td>
</tr>
<tr class="row-odd"><td><p>dstdry4</p></td>
<td><p>Faxa_dstdry4</p></td>
</tr>
<tr class="row-even"><td><p>tref</p></td>
<td><p>Sx_tref</p></td>
</tr>
<tr class="row-odd"><td><p>qref</p></td>
<td><p>Sx_qref</p></td>
</tr>
<tr class="row-even"><td><p>avsdr</p></td>
<td><p>Sx_avsdr</p></td>
</tr>
<tr class="row-odd"><td><p>anidr</p></td>
<td><p>Sx_anidr</p></td>
</tr>
<tr class="row-even"><td><p>avsdf</p></td>
<td><p>Sx_avsdf</p></td>
</tr>
<tr class="row-odd"><td><p>anidf</p></td>
<td><p>Sx_anidf</p></td>
</tr>
<tr class="row-even"><td><p>ts</p></td>
<td><p>Sx_t</p></td>
</tr>
<tr class="row-odd"><td><p>to</p></td>
<td><p>So_t</p></td>
</tr>
<tr class="row-even"><td><p>snowhl</p></td>
<td><p>Sl_snowh</p></td>
</tr>
<tr class="row-odd"><td><p>lfrac</p></td>
<td><p>Sf_lfrac</p></td>
</tr>
<tr class="row-even"><td><p>ifrac</p></td>
<td><p>Sf_ifrac</p></td>
</tr>
<tr class="row-odd"><td><p>ofrac</p></td>
<td><p>Sf_ofrac</p></td>
</tr>
<tr class="row-even"><td><p>taux</p></td>
<td><p>Faxx_taux</p></td>
</tr>
<tr class="row-odd"><td><p>tauy</p></td>
<td><p>Faxx_tauy</p></td>
</tr>
<tr class="row-even"><td><p>lat</p></td>
<td><p>Faxx_lat</p></td>
</tr>
<tr class="row-odd"><td><p>sen</p></td>
<td><p>Faxx_sen</p></td>
</tr>
<tr class="row-even"><td><p>lwup</p></td>
<td><p>Faxx_lwup</p></td>
</tr>
<tr class="row-odd"><td><p>evap</p></td>
<td><p>Faxx_evap</p></td>
</tr>
<tr class="row-even"><td><p>co2lnd</p></td>
<td><p>Fall_fco2_lnd</p></td>
</tr>
<tr class="row-odd"><td><p>co2ocn</p></td>
<td><p>Faoo_fco2_ocn</p></td>
</tr>
<tr class="row-even"><td><p>dms</p></td>
<td><p>Faoo_fdms_ocn</p></td>
</tr>
<tr class="row-odd"><td><p>precsf</p></td>
<td><p>Sa_precsf</p></td>
</tr>
<tr class="row-even"><td><p>prec_af</p></td>
<td><p>Sa_prec_af</p></td>
</tr>
<tr class="row-odd"><td><p>u_af</p></td>
<td><p>Sa_u_af</p></td>
</tr>
<tr class="row-even"><td><p>v_af</p></td>
<td><p>Sa_v_af</p></td>
</tr>
<tr class="row-odd"><td><p>tbot_af</p></td>
<td><p>Sa_tbot_af</p></td>
</tr>
<tr class="row-even"><td><p>pbot_af</p></td>
<td><p>Sa_pbot_af</p></td>
</tr>
<tr class="row-odd"><td><p>shum_af</p></td>
<td><p>Sa_shum_af</p></td>
</tr>
<tr class="row-even"><td><p>swdn_af</p></td>
<td><p>Sa_swdn_af</p></td>
</tr>
<tr class="row-odd"><td><p>lwdn_af</p></td>
<td><p>Sa_lwdn_af</p></td>
</tr>
<tr class="row-even"><td><p>rainc_18O</p></td>
<td><p>Faxa_rainc_18O</p></td>
</tr>
<tr class="row-odd"><td><p>rainc_HDO</p></td>
<td><p>Faxa_rainc_HDO</p></td>
</tr>
<tr class="row-even"><td><p>rainl_18O</p></td>
<td><p>Faxa_rainl_18O</p></td>
</tr>
<tr class="row-odd"><td><p>rainl_HDO</p></td>
<td><p>Faxa_rainl_HDO</p></td>
</tr>
<tr class="row-even"><td><p>snowc_18O</p></td>
<td><p>Faxa_snowc_18O</p></td>
</tr>
<tr class="row-odd"><td><p>snowc_HDO</p></td>
<td><p>Faxa_snowc_HDO</p></td>
</tr>
<tr class="row-even"><td><p>snowl_18O</p></td>
<td><p>Faxa_snowl_18O</p></td>
</tr>
<tr class="row-odd"><td><p>snowl_HDO</p></td>
<td><p>Faxa_snowl_HDO</p></td>
</tr>
<tr class="row-even"><td><p>shum_16O</p></td>
<td><p>Sa_shum_16O</p></td>
</tr>
<tr class="row-odd"><td><p>shum_18O</p></td>
<td><p>Sa_shum_18O</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data-model-science.html" class="btn btn-neutral float-left" title="5. Data Model Science" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data-lnd.html" class="btn btn-neutral float-right" title="7. Data Land (DLND)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, U.S. National Science Foundation and U.S. Department of Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>