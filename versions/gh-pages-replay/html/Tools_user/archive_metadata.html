<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>archive_metadata &mdash; CIME with documentation about the Replay cime5.6.replay documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5d88beb4"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/pop_ver.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bless_test_results" href="bless_test_results.html" />
    <link rel="prev" title="advanced-py-prof" href="advanced-py-prof.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CIME with documentation about the Replay
          </a>
              <div class="version">
                cime5.6.replay
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../what_cime/index.html">What is CIME?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html">Case Control System Part 1: Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html#case-control-system-part-2-configuration-porting-testing-and-use-cases">Case Control System Part 2: Configuration, Porting, Testing and Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_models/index.html">Data Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver_cpl/index.html">Driver/Coupler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_cpl/index.html">Building a Coupled Model with CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_tools/index.html">Miscellaneous Tools</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="advanced-py-prof.html">advanced-py-prof</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">archive_metadata</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bless_test_results.html">bless_test_results</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.build.html">case.build</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.cmpgen_namelists.html">case.cmpgen_namelists</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.qstatus.html">case.qstatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.run.html">case.run</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.setup.html">case.setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.st_archive.html">case.st_archive</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.submit.html">case.submit</a></li>
<li class="toctree-l2"><a class="reference internal" href="case.test.html">case.test</a></li>
<li class="toctree-l2"><a class="reference internal" href="case_diff.html">case_diff</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_case.html">check_case</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_input_data.html">check_input_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_lockedfiles.html">check_lockedfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="cime_bisect.html">cime_bisect</a></li>
<li class="toctree-l2"><a class="reference internal" href="cimeteststatus.html">cimeteststatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_checker.html">code_checker</a></li>
<li class="toctree-l2"><a class="reference internal" href="compare_namelists.html">compare_namelists</a></li>
<li class="toctree-l2"><a class="reference internal" href="compare_test_results.html">compare_test_results</a></li>
<li class="toctree-l2"><a class="reference internal" href="component_compare_baseline.html">component_compare_baseline</a></li>
<li class="toctree-l2"><a class="reference internal" href="component_compare_copy.html">component_compare_copy</a></li>
<li class="toctree-l2"><a class="reference internal" href="component_compare_test.html">component_compare_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="component_generate_baseline.html">component_generate_baseline</a></li>
<li class="toctree-l2"><a class="reference internal" href="concat_daily_hist.csh.html">concat_daily_hist.csh</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_clone.html">create_clone</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_newcase.html">create_newcase</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_test.html">create_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="cs.status.html">cs.status</a></li>
<li class="toctree-l2"><a class="reference internal" href="e3sm_check_env.html">e3sm_check_env</a></li>
<li class="toctree-l2"><a class="reference internal" href="e3sm_cime_merge.html">e3sm_cime_merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="e3sm_cime_split.html">e3sm_cime_split</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_cylc_workflow.py.html">generate_cylc_workflow.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="getTiming.html">getTiming</a></li>
<li class="toctree-l2"><a class="reference internal" href="jenkins_generic_job.html">jenkins_generic_job</a></li>
<li class="toctree-l2"><a class="reference internal" href="jenkins_script.html">jenkins_script</a></li>
<li class="toctree-l2"><a class="reference internal" href="list_e3sm_tests.html">list_e3sm_tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="mkDepends.html">mkDepends</a></li>
<li class="toctree-l2"><a class="reference internal" href="mkSrcfiles.html">mkSrcfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="normalize_cases.html">normalize_cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelayout.html">pelayout</a></li>
<li class="toctree-l2"><a class="reference internal" href="preview_namelists.html">preview_namelists</a></li>
<li class="toctree-l2"><a class="reference internal" href="preview_run.html">preview_run</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_config.html">query_config</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_testlists.html">query_testlists</a></li>
<li class="toctree-l2"><a class="reference internal" href="rc.template.html">rc.template</a></li>
<li class="toctree-l2"><a class="reference internal" href="save_provenance.html">save_provenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple-py-prof.html">simple-py-prof</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple_compare.html">simple_compare</a></li>
<li class="toctree-l2"><a class="reference internal" href="testreporter.py.html">testreporter.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="wait_for_tests.html">wait_for_tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlchange.html">xmlchange</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlquery.html">xmlquery</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmltestentry.html">xmltestentry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../xml_files/index.html">XML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CIME_api/modules.html">CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_api/modules.html">Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME with documentation about the Replay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">User Tools</a></li>
      <li class="breadcrumb-item active">archive_metadata</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Tools_user/archive_metadata.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="archive-metadata">
<span id="id1"></span><h1>archive_metadata<a class="headerlink" href="#archive-metadata" title="Link to this heading"></a></h1>
<p><strong>archive_metadata</strong> is a script in CIMEROOT/scripts/Tools.</p>
<div class="toctree-wrapper compound">
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ ./archive_metadata --help
usage: archive_metadata [-h] [-d] [-v] [-s] --user USER --password
                        [--caseroot CASEROOT] [--workdir WORKDIR]
                        (--expType EXPTYPE | --query-expType) [--title TITLE]
                        [--ignore-logs] [--ignore-timing]
                        [--ignore-repo-update] [--add-files USER_ADD_FILES]
                        [--dryrun] [--query_cmip6 QUERY_CMIP6 QUERY_CMIP6]
                        [--test-post]

Query and parse the caseroot files to gather metadata information that can be
posted to the CESM experiments database. CMIP6 experiment case names must be
reserved already in the experiment database. Please see:
https://csesgweb.cgd.ucar.edu/expdb2.0 for details.

options:
  -h, --help            show this help message and exit
  -d, --debug           Print debug information (very verbose) to file /n/home
                        04/sweidman/CESM215/CESM/cime/scripts/Tools/archive_me
                        tadata.log
  -v, --verbose         Add additional context (time and file) to log messages
  -s, --silent          Print only warnings and error messages
  --user USER           User name for SVN CESM developer access (required)
  --password            Password for SVN CESM developer access (required)
  --caseroot CASEROOT   Fully quailfied path to case root directory
                        (optional). Defaults to current working directory.
  --workdir WORKDIR     Fully quailfied path to directory for storing
                        intermediate case files. A sub-directory called
                        archive_temp_dir is created, populated with case
                        files, and posted to the CESM experiments database and
                        SVN repository at URL &quot;https://svn-
                        cesm2-expdb.cgd.ucar.edu&quot;. This argument can be used
                        to archive a caseroot when the user does not have
                        write permission in the caseroot (optional). Defaults
                        to current working directory.
  --expType EXPTYPE     Supported experiment type defined in the CESM2
                        experiment database. Run archive_metadata --query-
                        expType to see a complete list of supported experiment
                        types. Note: for CMIP6 experiments, the case must
                        already exist in the experiments database at URL
                        &quot;http://csegweb.cgd.ucar.edu/expdb2.0&quot; (required
                        unless --query-expType is specified).
  --query-expType       Query the experiments database for supported
                        experiment types (optional).
  --title TITLE         Title of experiment (optional).
  --ignore-logs         Ignore updating the SVN repository with the
                        caseroot/logs files. The experiments database will be
                        updated (optional).
  --ignore-timing       Ignore updating the the SVN repository with
                        caseroot/timing files.The experiments database will be
                        updated (optional).
  --ignore-repo-update  Ignore updating the SVN repository with all the
                        caseroot files. The experiments database will be
                        updated (optional).
  --add-files USER_ADD_FILES
                        Comma-separated list with no spaces of files or
                        directories to be added to the SVN repository. These
                        are in addition to the default added caseroot files
                        and directories: &quot;[&#39;Buildconf&#39;, &#39;CaseDocs&#39;,
                        &#39;CaseStatus&#39;, &#39;LockedFiles&#39;, &#39;Macros.make&#39;,
                        &#39;README.case&#39;, &#39;SourceMods&#39;,
                        &#39;software_environment.txt&#39;], *.xml, user_nl_*&quot;
                        (optional).
  --dryrun              Parse settings and print what actions will be taken
                        but do not execute the action (optional).
  --query_cmip6 QUERY_CMIP6 QUERY_CMIP6
                        Query the experiments database global attributes for
                        specified CMIP6 casename as argument 1. Writes a json
                        formatted output file, specified by argument 2, to
                        subdir archive_files (optional).
  --test-post           Post metadata to the test expdb2.0 web application
                        server at URL
                        &quot;http://csegwebdev.cgd.ucar.edu/expdb2.0&quot;. No --test-
                        post argument defaults to posting metadata to the
                        production expdb2.0 web application server at URL
                        &quot;http://csegweb.cgd.ucar.edu/expdb2.0&quot; (optional).
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="advanced-py-prof.html" class="btn btn-neutral float-left" title="advanced-py-prof" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bless_test_results.html" class="btn btn-neutral float-right" title="bless_test_results" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, U.S. National Science Foundation and U.S. Department of Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>